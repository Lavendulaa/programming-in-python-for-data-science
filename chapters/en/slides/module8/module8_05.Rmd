---
params:
  dynamictitle: "module8_05"
title: "`r params$dynamictitle`"
output: 
  md_document:
    variant: gfm
---


```{r setup, include=FALSE}
## DO NOT FORGET TO CHANGE THIS ACCORDINGLY 
library(rmarkdown)
# MAke sure you are updating your title 
knitr::opts_chunk$set(echo = TRUE,
                      base.dir = ".", 
                      base.url = "/",
                      fig.path = paste("../../static/module8/", params$dynamictitle,"/", sep = ""))

knitr_opts <- knitr_options( opts_knit = NULL,
                             opts_chunk = NULL,
                             knit_hooks = NULL,
                             opts_hooks = NULL,
                             opts_template = NULL)
md_document_custom <- md_document(variant = "gfm")
output_format(knitr = knitr_opts,
              pandoc = NULL,
              base_format = md_document_custom)
library(reticulate)

```


```{python include=FALSE}
import pandas as pd
import numpy as np
pd.set_option('display.width', 350)

np.set_printoptions(linewidth=400)

pd.set_option('display.max_columns', 50)
pd.set_option('display.max_rows', 15)
cereal = pd.read_csv('cereal.csv')
```


type: slides


# Numpy Arrays 

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

## Creating Arrays

We saw in the last set of slides that you can create arrays using `np.array()`:
```{python}
my_array = np.array((1, 2, 3, 4))
my_array
```
We can also make them from lists instead of tuples too

```{python}
my_array = np.array([1, 2, 3, 4])
my_array
```

You can also have multi-dimensional arrays which are indicated by double square brackets `[[ ]]`:

```{python}
list_2d = [[1, 2], [3, 4], [5, 6]]
array_2d = np.array(list_2d)
array_2d
```


Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

There are also several built in NumPy functions that create different arrays with patterns and requirements: 

`np.zeros()` will create an array containing `0` for each element and the input argument specifies the size:
```{python}
np.zeros(10)
```
Similarly, `np.ones()` does the same thing except with an array of elements with `1` values:

```{python}
np.ones(4)
```
`np.arange()` similarly to `range()` can take 1,2 or 3 input arguments and will produce an array in a similar way that `range()` produces a sequence. 

```{python}
np.arange(5)
```
```{python}
np.arange(0, 11, 2) 
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

`np.linspace()` will produce a an array containing the number of elements specified by the 3rd argument's value, containing values between the first 2 arguments values. 
Example: 20, equally spaced values from 1 to 5:
```{python}
np.linspace(1,5,20)
```
(The elements in `linspace()` arrays are defaulted to type `float`)
You can also produce an array with random values using `np.random.rand()`.
Example: Random numbers uniformly distributed from 0 to 1
```{python}
np.random.rand(5) 
```
You can also specify the number of dimensions for it: 
```{python}
np.random.rand(5, 2) 
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

## Elementwise operations 

As we saw in Exercise 4, that arrays operate in an elementwise manner. 

When we do a number of operations, the operation is done to each element in the array. 

```{python}
array1 = np.ones(4)
array1
```
```{python}
array2 = array1 + 1
array2
```

```{python}
array1 - array2
```
```{python}
array1 * array2
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

## Array Shapes 

<center><img src='/module8/arrays2.png' width="80%"></center>


As you just saw above, arrays can be of any dimension, shape and size.

In fact, there are three main array nouns you need to know to understand the characteristics of an array:

- `.ndim`: the number of dimensions of an array

- `.shape`: the number of elements in each dimension (like calling len() on each dimension)

- `.size`: the total number of elements in an array (i.e., the product of `.shape`)

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

`array1` is an example of a 1d array:

```{python}
array1
```
We can use `.ndim` to check the number of dimensions and just as suspected it is 1d: 
```{python}
array1.ndim
```
we use `.shape` to find the number of elements in each dimension 

```{python}
array1.shape
```
This returns a tuple with only 1 value which represents the 1 dimension. 
Finally `.size` will return the ***total*** number of values in the array. 

```{python}
array1.size
```


Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

Let's try this again with a 2d array. 

```{python}
array_2d = np.ones((3, 2))
array_2d
```
The number of square brackets in an array depict how many dimensions an array consists of.


We can confirms the number of dimensions with `ndim`:
```{python}
array_2d.ndim
```
The shape of the array now consists of two elements, one for each dimension: 
```{python}
array_2d.shape
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

And the size is the product of the values:
```{python}
array_2d.size
```

If you have the `.shape()` of the array, you can get both the  `.ndim` of the array:

```{python}
len(array_2d.shape)
```
as well as the size:

```{python}
np.prod(array_2d.shape)
```


Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

## Indexing and Slicing

1D Arrays are sliced in the same manner that lists are 
```{python}
arr = np.arange(10)
arr
```

```{python}
arr[7]
```
(the first value is included and the last value is excluded )
```{python}
arr[2:4]
```
To obtain elements from right to left, you  uses negative integers. 
```{python}
arr[-1]
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

Slicing 2D Arrays can be compared to slicing pandas dataframes (without the `.iloc[]`). 


```{python}
arr2 = np.arange(0,12).reshape(3,4)
arr2
```
In the code above `.reshape` simply reshapes the orginal 1D array to a 2D array with a 3 x 4 shape. 

Let's say I want to select `6`. It's located at column 2 and row 1 (remember we index including 0) . 

```{python}
arr2[1, 2]
```
You could also do the same thing using this notation but, it's not recommended. 

```{python}
arr2[1][2]
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

```{python echo=FALSE}
arr2
```

If you want the a complete row of the array, you can specify with a single number:

```{python}
arr2[2]
```
and if you only want a single column we can use the same sintax we did we `.iloc[]`

```{python}
arr2[:,2]
```
We can obtain specific slices by using a colon `:`. If I wanted only the first 2 rows and the last 3 columns, I could do the following:
```{python}
arr2[:2,1:]
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

I can take the <a href=" https://en.wikipedia.org/wiki/Transpose" target="_blank">***transpose***e</a> of the array by using `.T`:
```{python}
arr2.T
```
This converts the columns to rows and vice versa. 

We can replace values in an array with the assignment operator: 

```{python}

arr2[1,1] = 77777
arr2
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

## Boolean Indexing 

Let's take a 1D array that is comprised of 10 decimal elements. 
```{python}
decimal_array = np.random.rand(10)
decimal_array
```
Remember when we do any operations, it occurs in an element-wise manners
```{python}
decimal_array + 1
```
Let's assign a threshold and find all the elements in `decimal_array`  greater than 0.5. We can name this new array that is make of boolean values `threshold`:

```{python}
threshold = decimal_array > 0.5
threshold

```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

We now can replace all those values that have a `True` Boolean,  a new value, in this case let's assign them a value of 0.5:

```{python}
decimal_array[threshold] = 0.5 
decimal_array
```

We could also shorten the hold process and avoided making `threshold` using the following code:
```{python}
new_decimal_array = np.random.rand(10)
new_decimal_array
```
```{python}
new_decimal_array[new_decimal_array>0.5] = 0.5
new_decimal_array
```

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />
</audio></html>

---

# Letâ€™s practice what we learned!

Notes: Script here
<html>
<audio controls >
  <source src="/placeholder_audio.mp3" />